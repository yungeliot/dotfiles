(()=>{function t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,u=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}(t,e)||n(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=n(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){s=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw i}}}}function n(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var o,a=null!==(o=sessionStorage.getItem("bis_data"))?JSON.parse(o):null,i=a?a.config.instagramConfig.TRAFFIC_LISTENER_CONFIG.PARSERS:[],u=a?a.config.instagramConfig.TRAFFIC_LISTENER_CONFIG.PROPERTIES_FOR_VIDEO_DATA:[],s=a?"".concat(a.id,"_p"):null,l=0;var f,c=function(t,e){return function(){!function(t,e,n){try{var r={posdMessageId:"PANELOS_MESSAGE",posdHash:(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,22),type:n,from:t,to:t.substring(0,t.length-2),content:e};window.postMessage(r)}catch(t){}}(s,t,e)}},T=function(t,n){var r,o=null,a=e(u);try{for(a.s();!(r=a.n()).done;){var i=r.value,s=i.NAME,l=i.PATH_NAME,f=i.IS_NECESSARY;if(o||(o={}),"detectionTime"!=s){if(n[l]&&(o[s]=E(t,n[l]),f&&!o[s]))return null}else o[s]=Date.now()/1e3|0}}catch(t){a.e(t)}finally{a.f()}return o},E=function(t,n){var r,o=t,a=e(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(o[i])o=o[i];else if(!o[i]){o=null;break}}}catch(t){a.e(t)}finally{a.f()}return o},p=function(t,n){if(t&&t.length){var r,o=null,a=e(t);try{for(a.s();!(r=a.n()).done;){var i=r.value,u="";if(y(i,n.PATH_CHECK_PROPERTIES))o=T(i,n.PATHS_GET_PROPERTIES),u="INSTAGRAM_VIDEO_DATA";else{if(!n.RULES_TO_GET_FULL_TEXT||!y(i,n.RULES_TO_GET_FULL_TEXT.PATH_CHECK_PROPERTIES))continue;o=T(i,n.RULES_TO_GET_FULL_TEXT.PATHS_GET_PROPERTIES),u="INSTAGRAM_FULL_TEXT_DATA"}o&&setTimeout(c(o,u),0)}}catch(t){a.e(t)}finally{a.f()}}},_=function(t,n){if(t&&t.length){var r,o=[],a=e(t);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(y(i,n.PATH_CHECK_PROPERTIES)){var u=T(i,n.PATHS_GET_PROPERTIES);u&&(null===u.videoVersions&&delete u.videoVersions,o.push(u))}}}catch(t){a.e(t)}finally{a.f()}o.length&&setTimeout(c(o,"INSTAGRAM_STORY_DATA"),0)}},y=function(t,n){var r,o=t,a=!1,i=e(n);try{for(i.s();!(r=i.n()).done;){var u=r.value;if(!(u in o)||!o[u]){a=!1;break}o=o[u],a=!0}}catch(t){i.e(t)}finally{i.f()}return a},h={XMLHttpRequest:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(n){var r=function(){for(var t=n.AD_TYPES_WAYS_TO_PROPERTIES,e=n.QUERY,r=0;r<t.length;r++){var o="QUERY_AD_TYPE_"+r,a=t[r];e=e.replace(o,a.QUERY_URL_PATH)}return new RegExp(e)},o=XMLHttpRequest.prototype.open,a=XMLHttpRequest.prototype.setRequestHeader;XMLHttpRequest.prototype.setRequestHeader=function(){var t=arguments[0].toLowerCase(),e=arguments[1];this.requestHeaders||(this.requestHeaders={}),this.requestHeaders[t]=e,a.apply(this,arguments)},XMLHttpRequest.prototype.open=function(){this.requestMethod=arguments[0],o.apply(this,arguments)};var i=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){var o=this.onreadystatechange;return this.onreadystatechange=function(){var a=this,i=r(),u=n.MATCH_HEADERS,s=this.requestHeaders?Object.keys(this.requestHeaders):null,l=!1;if(s&&(l=s.some((function(t){if(u[t]&&u[t].includes(a.requestHeaders[t]))return!0}))),4===this.readyState&&i.test(this.responseURL)){var f,c=e(n.AD_TYPES_WAYS_TO_PROPERTIES);try{var T=function(){var e=f.value,n=a.responseURL.includes(e.QUERY_URL_PATH);if(l||n){var r=a.response.length?JSON.parse(a.response):a.response,o=function e(n,r){for(var o=r,a=function(){var r=t(u[i],2),a=r[0],s=r[1];o[s]&&(o=o[s]),"*"===s&&(o=o.map((function(t){return e(n.slice(+a+1),t)})))},i=0,u=Object.entries(n);i<u.length;i++)a();return o}(e.PATH_TO_POSTS,r);return"story"===e.AD_TYPE&&a.responseURL.includes(e.QUERY_URL_PATH)&&o.length?(o.forEach((function(t){t&&_(t,e)})),"break"):(p(o,e),"break")}};for(c.s();!(f=c.n()).done;){var E=T();if("break"===E)break}}catch(t){c.e(t)}finally{c.f()}}if(o)return o.apply(this,arguments)},i.apply(this,arguments)}})),script:function(e){function n(){var t=Array.from(document.querySelectorAll("script")),n=new RegExp(e.REGEXP_FILTER),r=t.filter((function(t){return t.innerHTML.search(n)>-1}));return r.length?r[0]:null}if(l++,"complete"!==document.readyState&&l<10){setTimeout((function(){h.script(e)}),200)}else{var r,o=(r=n())?JSON.parse(r.innerHTML):null,a=function e(n,r){for(var o=r,a=function(){var r=t(u[i],2),a=r[0],s=r[1];o[s]&&(o=o[s]),"*"===s&&(o=o.map((function(t){return e(n.slice(+a+1),t)})))},i=0,u=Object.entries(n);i<u.length;i++)a();return o}(e.PATH_TO_POSTS,o);p(a,e)}}},S=e(i);try{for(S.s();!(f=S.n()).done;){var R=f.value;R.USE&&h[R.TYPE](R)}}catch(t){S.e(t)}finally{S.f()}})();